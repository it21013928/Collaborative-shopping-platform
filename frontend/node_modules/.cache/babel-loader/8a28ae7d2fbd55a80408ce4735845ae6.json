{"ast":null,"code":"import _toConsumableArray from \"C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { v4 as uuidv4 } from 'uuid';\nimport cogoToast from 'cogo-toast';\nvar _require = require('@reduxjs/toolkit'),\n  createSlice = _require.createSlice;\nvar cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    cartItems: []\n  },\n  reducers: {\n    addToCart: function addToCart(state, action) {\n      var product = action.payload;\n      if (!product.variation) {\n        var cartItem = state.cartItems.find(function (item) {\n          return item.id === product.id;\n        });\n        if (!cartItem) {\n          state.cartItems.push(_objectSpread(_objectSpread({}, product), {}, {\n            quantity: product.quantity ? product.quantity : 1,\n            cartItemId: uuidv4()\n          }));\n        } else {\n          state.cartItems = state.cartItems.map(function (item) {\n            if (item.cartItemId === cartItem.cartItemId) {\n              return _objectSpread(_objectSpread({}, item), {}, {\n                quantity: product.quantity ? item.quantity + product.quantity : item.quantity + 1\n              });\n            }\n            return item;\n          });\n        }\n      } else {\n        var _cartItem = state.cartItems.find(function (item) {\n          return item.id === product.id && product.selectedProductColor && product.selectedProductColor === item.selectedProductColor && product.selectedProductSize && product.selectedProductSize === item.selectedProductSize && (product.cartItemId ? product.cartItemId === item.cartItemId : true);\n        });\n        if (!_cartItem) {\n          state.cartItems.push(_objectSpread(_objectSpread({}, product), {}, {\n            quantity: product.quantity ? product.quantity : 1,\n            cartItemId: uuidv4()\n          }));\n        } else if (_cartItem !== undefined && (_cartItem.selectedProductColor !== product.selectedProductColor || _cartItem.selectedProductSize !== product.selectedProductSize)) {\n          state.cartItems = [].concat(_toConsumableArray(state.cartItems), [_objectSpread(_objectSpread({}, product), {}, {\n            quantity: product.quantity ? product.quantity : 1,\n            cartItemId: uuidv4()\n          })]);\n        } else {\n          state.cartItems = state.cartItems.map(function (item) {\n            if (item.cartItemId === _cartItem.cartItemId) {\n              return _objectSpread(_objectSpread({}, item), {}, {\n                quantity: product.quantity ? item.quantity + product.quantity : item.quantity + 1,\n                selectedProductColor: product.selectedProductColor,\n                selectedProductSize: product.selectedProductSize\n              });\n            }\n            return item;\n          });\n        }\n      }\n      cogoToast.success(\"Added To Cart\", {\n        position: \"bottom-left\"\n      });\n    },\n    deleteFromCart: function deleteFromCart(state, action) {\n      state.cartItems = state.cartItems.filter(function (item) {\n        return item.cartItemId !== action.payload;\n      });\n      cogoToast.error(\"Removed From Cart\", {\n        position: \"bottom-left\"\n      });\n    },\n    decreaseQuantity: function decreaseQuantity(state, action) {\n      var product = action.payload;\n      if (product.quantity === 1) {\n        state.cartItems = state.cartItems.filter(function (item) {\n          return item.cartItemId !== product.cartItemId;\n        });\n        cogoToast.error(\"Removed From Cart\", {\n          position: \"bottom-left\"\n        });\n      } else {\n        state.cartItems = state.cartItems.map(function (item) {\n          return item.cartItemId === product.cartItemId ? _objectSpread(_objectSpread({}, item), {}, {\n            quantity: item.quantity - 1\n          }) : item;\n        });\n        cogoToast.warn(\"Item Decremented From Cart\", {\n          position: \"bottom-left\"\n        });\n      }\n    },\n    deleteAllFromCart: function deleteAllFromCart(state) {\n      state.cartItems = [];\n    }\n  }\n});\nvar _cartSlice$actions = cartSlice.actions,\n  addToCart = _cartSlice$actions.addToCart,\n  deleteFromCart = _cartSlice$actions.deleteFromCart,\n  decreaseQuantity = _cartSlice$actions.decreaseQuantity,\n  deleteAllFromCart = _cartSlice$actions.deleteAllFromCart;\nexport { addToCart, deleteFromCart, decreaseQuantity, deleteAllFromCart };\nexport default cartSlice.reducer;","map":{"version":3,"names":["v4","uuidv4","cogoToast","require","createSlice","cartSlice","name","initialState","cartItems","reducers","addToCart","state","action","product","payload","variation","cartItem","find","item","id","push","quantity","cartItemId","map","selectedProductColor","selectedProductSize","undefined","success","position","deleteFromCart","filter","error","decreaseQuantity","warn","deleteAllFromCart","actions","reducer"],"sources":["C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/src/store/slices/cart-slice.js"],"sourcesContent":["import { v4 as uuidv4 } from 'uuid';\r\nimport cogoToast from 'cogo-toast';\r\nconst { createSlice } = require('@reduxjs/toolkit');\r\n\r\nconst cartSlice = createSlice({\r\n    name: \"cart\",\r\n    initialState: {\r\n        cartItems: []\r\n    },\r\n    reducers: {\r\n        addToCart(state, action) {\r\n            const product = action.payload;\r\n            if(!product.variation){\r\n                const cartItem = state.cartItems.find(item => item.id === product.id);\r\n                if(!cartItem){\r\n                    state.cartItems.push({\r\n                        ...product,\r\n                        quantity: product.quantity ? product.quantity : 1,\r\n                        cartItemId: uuidv4()\r\n                    });\r\n                } else {\r\n                    state.cartItems = state.cartItems.map(item => {\r\n                        if(item.cartItemId === cartItem.cartItemId){\r\n                            return {\r\n                                ...item,\r\n                                quantity: product.quantity ? item.quantity + product.quantity : item.quantity + 1\r\n                            }\r\n                        }\r\n                        return item;\r\n                    })\r\n                }\r\n\r\n            } else {\r\n                const cartItem = state.cartItems.find(\r\n                    item =>\r\n                        item.id === product.id &&\r\n                        product.selectedProductColor &&\r\n                        product.selectedProductColor === item.selectedProductColor &&\r\n                        product.selectedProductSize &&\r\n                        product.selectedProductSize === item.selectedProductSize &&\r\n                        (product.cartItemId ? product.cartItemId === item.cartItemId : true)\r\n                );\r\n                if(!cartItem){\r\n                    state.cartItems.push({\r\n                        ...product,\r\n                        quantity: product.quantity ? product.quantity : 1,\r\n                        cartItemId: uuidv4()\r\n                    });\r\n                } else if (cartItem !== undefined && (cartItem.selectedProductColor !== product.selectedProductColor || cartItem.selectedProductSize !== product.selectedProductSize)) {\r\n                    state.cartItems = [\r\n                        ...state.cartItems,\r\n                        {\r\n                            ...product,\r\n                            quantity: product.quantity ? product.quantity : 1,\r\n                            cartItemId: uuidv4()\r\n                        }\r\n                    ]\r\n                } else {\r\n                    state.cartItems = state.cartItems.map(item => {\r\n                        if(item.cartItemId === cartItem.cartItemId){\r\n                            return {\r\n                                ...item,\r\n                                quantity: product.quantity ? item.quantity + product.quantity : item.quantity + 1,\r\n                                selectedProductColor: product.selectedProductColor,\r\n                                selectedProductSize: product.selectedProductSize\r\n                            }\r\n                        }\r\n                        return item;\r\n                    });\r\n                }\r\n            }\r\n\r\n            cogoToast.success(\"Added To Cart\", {position: \"bottom-left\"});\r\n        },\r\n        deleteFromCart(state, action) {\r\n            state.cartItems = state.cartItems.filter(item => item.cartItemId !== action.payload);\r\n            cogoToast.error(\"Removed From Cart\", {position: \"bottom-left\"});\r\n        },\r\n        decreaseQuantity(state, action){\r\n            const product = action.payload;\r\n            if (product.quantity === 1) {\r\n                state.cartItems = state.cartItems.filter(item => item.cartItemId !== product.cartItemId);\r\n                cogoToast.error(\"Removed From Cart\", {position: \"bottom-left\"});\r\n            } else {\r\n                state.cartItems = state.cartItems.map(item =>\r\n                    item.cartItemId === product.cartItemId\r\n                        ? { ...item, quantity: item.quantity - 1 }\r\n                        : item\r\n                );\r\n                cogoToast.warn(\"Item Decremented From Cart\", {position: \"bottom-left\"});\r\n            }\r\n        },\r\n        deleteAllFromCart(state){\r\n            state.cartItems = []\r\n        }\r\n    },\r\n});\r\n\r\nexport const { addToCart, deleteFromCart, decreaseQuantity, deleteAllFromCart } = cartSlice.actions;\r\nexport default cartSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}