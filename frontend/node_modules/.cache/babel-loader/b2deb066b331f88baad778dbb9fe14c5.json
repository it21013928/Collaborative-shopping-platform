{"ast":null,"code":"import _toConsumableArray from \"C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport * as React from \"react\";\nimport { cleanup } from \"../../utils.js\";\nimport { useEventCallback } from \"../../hooks/useEventCallback.js\";\nimport { EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP } from \"../../consts.js\";\nexport var usePointerSwipe = function usePointerSwipe(subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) {\n  var offset = React.useRef(0);\n  var pointers = React.useRef([]);\n  var activePointer = React.useRef();\n  var startTime = React.useRef(0);\n  var clearPointer = React.useCallback(function (event) {\n    if (activePointer.current === event.pointerId) {\n      activePointer.current = undefined;\n    }\n    var currentPointers = pointers.current;\n    currentPointers.splice.apply(currentPointers, [0, currentPointers.length].concat(_toConsumableArray(currentPointers.filter(function (p) {\n      return p.pointerId !== event.pointerId;\n    }))));\n  }, []);\n  var addPointer = React.useCallback(function (event) {\n    clearPointer(event);\n    pointers.current.push(event);\n  }, [clearPointer]);\n  var onPointerDown = useEventCallback(function (event) {\n    addPointer(event);\n  });\n  var onPointerUp = useEventCallback(function (event) {\n    if (pointers.current.find(function (x) {\n      return x.pointerId === event.pointerId;\n    }) && activePointer.current === event.pointerId) {\n      var duration = Date.now() - startTime.current;\n      var currentOffset = offset.current;\n      if (Math.abs(currentOffset) > 0.3 * containerWidth || Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration) {\n        onSwipeFinish(currentOffset, duration);\n      } else {\n        onSwipeCancel(currentOffset);\n      }\n      offset.current = 0;\n    }\n    clearPointer(event);\n  });\n  var onPointerMove = useEventCallback(function (event) {\n    var pointer = pointers.current.find(function (p) {\n      return p.pointerId === event.pointerId;\n    });\n    if (pointer) {\n      var deltaX = event.clientX - pointer.clientX;\n      var deltaY = event.clientY - pointer.clientY;\n      if (!activePointer.current && isSwipeValid(deltaX) && Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 30) {\n        addPointer(event);\n        activePointer.current = event.pointerId;\n        startTime.current = Date.now();\n        onSwipeStart();\n      } else if (activePointer.current === event.pointerId) {\n        offset.current = deltaX;\n        onSwipeProgress(deltaX);\n      }\n    }\n  });\n  React.useEffect(function () {\n    return cleanup(subscribeSensors(EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(EVENT_ON_POINTER_CANCEL, onPointerUp));\n  }, [subscribeSensors, onPointerDown, onPointerMove, onPointerUp]);\n};","map":{"version":3,"names":["React","cleanup","useEventCallback","EVENT_ON_POINTER_CANCEL","EVENT_ON_POINTER_DOWN","EVENT_ON_POINTER_LEAVE","EVENT_ON_POINTER_MOVE","EVENT_ON_POINTER_UP","usePointerSwipe","subscribeSensors","isSwipeValid","containerWidth","swipeAnimationDuration","onSwipeStart","onSwipeProgress","onSwipeFinish","onSwipeCancel","offset","useRef","pointers","activePointer","startTime","clearPointer","useCallback","event","current","pointerId","undefined","currentPointers","splice","length","filter","p","addPointer","push","onPointerDown","onPointerUp","find","x","duration","Date","now","currentOffset","Math","abs","onPointerMove","pointer","deltaX","clientX","deltaY","clientY","useEffect"],"sources":["C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/yet-another-react-lightbox/dist/core/modules/controller/usePointerSwipe.js"],"sourcesContent":["import * as React from \"react\";\nimport { cleanup } from \"../../utils.js\";\nimport { useEventCallback } from \"../../hooks/useEventCallback.js\";\nimport { EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, } from \"../../consts.js\";\nexport const usePointerSwipe = (subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) => {\n    const offset = React.useRef(0);\n    const pointers = React.useRef([]);\n    const activePointer = React.useRef();\n    const startTime = React.useRef(0);\n    const clearPointer = React.useCallback((event) => {\n        if (activePointer.current === event.pointerId) {\n            activePointer.current = undefined;\n        }\n        const currentPointers = pointers.current;\n        currentPointers.splice(0, currentPointers.length, ...currentPointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const addPointer = React.useCallback((event) => {\n        clearPointer(event);\n        pointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        addPointer(event);\n    });\n    const onPointerUp = useEventCallback((event) => {\n        if (pointers.current.find((x) => x.pointerId === event.pointerId) &&\n            activePointer.current === event.pointerId) {\n            const duration = Date.now() - startTime.current;\n            const currentOffset = offset.current;\n            if (Math.abs(currentOffset) > 0.3 * containerWidth ||\n                (Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration)) {\n                onSwipeFinish(currentOffset, duration);\n            }\n            else {\n                onSwipeCancel(currentOffset);\n            }\n            offset.current = 0;\n        }\n        clearPointer(event);\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointer = pointers.current.find((p) => p.pointerId === event.pointerId);\n        if (pointer) {\n            const deltaX = event.clientX - pointer.clientX;\n            const deltaY = event.clientY - pointer.clientY;\n            if (!activePointer.current &&\n                isSwipeValid(deltaX) &&\n                Math.abs(deltaX) > Math.abs(deltaY) &&\n                Math.abs(deltaX) > 30) {\n                addPointer(event);\n                activePointer.current = event.pointerId;\n                startTime.current = Date.now();\n                onSwipeStart();\n            }\n            else if (activePointer.current === event.pointerId) {\n                offset.current = deltaX;\n                onSwipeProgress(deltaX);\n            }\n        }\n    });\n    React.useEffect(() => cleanup(subscribeSensors(EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(EVENT_ON_POINTER_CANCEL, onPointerUp)), [subscribeSensors, onPointerDown, onPointerMove, onPointerUp]);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}