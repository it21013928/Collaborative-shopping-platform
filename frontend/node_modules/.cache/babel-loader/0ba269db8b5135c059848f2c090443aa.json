{"ast":null,"code":"import _slicedToArray from \"C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from \"react\";\nimport { makeUseContext } from \"../utils.js\";\nvar EventsContext = React.createContext(null);\nexport var useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nexport var EventsProvider = function EventsProvider(_ref) {\n  var children = _ref.children;\n  var _React$useState = React.useState({}),\n    _React$useState2 = _slicedToArray(_React$useState, 1),\n    subscriptions = _React$useState2[0];\n  React.useEffect(function () {\n    return function () {\n      Object.keys(subscriptions).forEach(function (key) {\n        return delete subscriptions[key];\n      });\n    };\n  }, [subscriptions]);\n  var context = React.useMemo(function () {\n    var unsubscribe = function unsubscribe(topic, callback) {\n      if (subscriptions[topic]) {\n        subscriptions[topic] = subscriptions[topic].filter(function (cb) {\n          return cb !== callback;\n        });\n      }\n    };\n    var subscribe = function subscribe(topic, callback) {\n      if (!subscriptions[topic]) {\n        subscriptions[topic] = [];\n      }\n      subscriptions[topic].push(callback);\n      return function () {\n        return unsubscribe(topic, callback);\n      };\n    };\n    var publish = function publish(topic, event) {\n      var _a;\n      (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach(function (callback) {\n        return callback(event);\n      });\n    };\n    return {\n      publish: publish,\n      subscribe: subscribe,\n      unsubscribe: unsubscribe\n    };\n  }, [subscriptions]);\n  return React.createElement(EventsContext.Provider, {\n    value: context\n  }, children);\n};","map":{"version":3,"names":["React","makeUseContext","EventsContext","createContext","useEvents","EventsProvider","children","useState","subscriptions","useEffect","Object","keys","forEach","key","context","useMemo","unsubscribe","topic","callback","filter","cb","subscribe","push","publish","event","_a","createElement","Provider","value"],"sources":["C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/yet-another-react-lightbox/dist/core/contexts/Events.js"],"sourcesContent":["import * as React from \"react\";\nimport { makeUseContext } from \"../utils.js\";\nconst EventsContext = React.createContext(null);\nexport const useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nexport const EventsProvider = ({ children }) => {\n    const [subscriptions] = React.useState({});\n    React.useEffect(() => () => {\n        Object.keys(subscriptions).forEach((key) => delete subscriptions[key]);\n    }, [subscriptions]);\n    const context = React.useMemo(() => {\n        const unsubscribe = (topic, callback) => {\n            if (subscriptions[topic]) {\n                subscriptions[topic] = subscriptions[topic].filter((cb) => cb !== callback);\n            }\n        };\n        const subscribe = (topic, callback) => {\n            if (!subscriptions[topic]) {\n                subscriptions[topic] = [];\n            }\n            subscriptions[topic].push(callback);\n            return () => unsubscribe(topic, callback);\n        };\n        const publish = (topic, event) => {\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach((callback) => callback(event));\n        };\n        return { publish, subscribe, unsubscribe };\n    }, [subscriptions]);\n    return React.createElement(EventsContext.Provider, { value: context }, children);\n};\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,cAAc,QAAQ,aAAa;AAC5C,IAAMC,aAAa,GAAGF,KAAK,CAACG,aAAa,CAAC,IAAI,CAAC;AAC/C,OAAO,IAAMC,SAAS,GAAGH,cAAc,CAAC,WAAW,EAAE,eAAe,EAAEC,aAAa,CAAC;AACpF,OAAO,IAAMG,cAAc,GAAG,SAAjBA,cAAc,OAAqB;EAAA,IAAfC,QAAQ,QAARA,QAAQ;EACrC,sBAAwBN,KAAK,CAACO,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAA;IAAnCC,aAAa;EACpBR,KAAK,CAACS,SAAS,CAAC;IAAA,OAAM,YAAM;MACxBC,MAAM,CAACC,IAAI,CAACH,aAAa,CAAC,CAACI,OAAO,CAAC,UAACC,GAAG;QAAA,OAAK,OAAOL,aAAa,CAACK,GAAG,CAAC;MAAA,EAAC;IAC1E,CAAC;EAAA,GAAE,CAACL,aAAa,CAAC,CAAC;EACnB,IAAMM,OAAO,GAAGd,KAAK,CAACe,OAAO,CAAC,YAAM;IAChC,IAAMC,WAAW,GAAG,SAAdA,WAAW,CAAIC,KAAK,EAAEC,QAAQ,EAAK;MACrC,IAAIV,aAAa,CAACS,KAAK,CAAC,EAAE;QACtBT,aAAa,CAACS,KAAK,CAAC,GAAGT,aAAa,CAACS,KAAK,CAAC,CAACE,MAAM,CAAC,UAACC,EAAE;UAAA,OAAKA,EAAE,KAAKF,QAAQ;QAAA,EAAC;MAC/E;IACJ,CAAC;IACD,IAAMG,SAAS,GAAG,SAAZA,SAAS,CAAIJ,KAAK,EAAEC,QAAQ,EAAK;MACnC,IAAI,CAACV,aAAa,CAACS,KAAK,CAAC,EAAE;QACvBT,aAAa,CAACS,KAAK,CAAC,GAAG,EAAE;MAC7B;MACAT,aAAa,CAACS,KAAK,CAAC,CAACK,IAAI,CAACJ,QAAQ,CAAC;MACnC,OAAO;QAAA,OAAMF,WAAW,CAACC,KAAK,EAAEC,QAAQ,CAAC;MAAA;IAC7C,CAAC;IACD,IAAMK,OAAO,GAAG,SAAVA,OAAO,CAAIN,KAAK,EAAEO,KAAK,EAAK;MAC9B,IAAIC,EAAE;MACN,CAACA,EAAE,GAAGjB,aAAa,CAACS,KAAK,CAAC,MAAM,IAAI,IAAIQ,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACb,OAAO,CAAC,UAACM,QAAQ;QAAA,OAAKA,QAAQ,CAACM,KAAK,CAAC;MAAA,EAAC;IAC9G,CAAC;IACD,OAAO;MAAED,OAAO,EAAPA,OAAO;MAAEF,SAAS,EAATA,SAAS;MAAEL,WAAW,EAAXA;IAAY,CAAC;EAC9C,CAAC,EAAE,CAACR,aAAa,CAAC,CAAC;EACnB,OAAOR,KAAK,CAAC0B,aAAa,CAACxB,aAAa,CAACyB,QAAQ,EAAE;IAAEC,KAAK,EAAEd;EAAQ,CAAC,EAAER,QAAQ,CAAC;AACpF,CAAC"},"metadata":{},"sourceType":"module"}