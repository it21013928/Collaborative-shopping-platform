{"ast":null,"code":"import _objectSpread from \"C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from \"react\";\nimport { devicePixelRatio, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, ImageSlide, useEventCallback, useLayoutEffect } from \"../../core/index.js\";\nexport var isResponsiveImageSlide = function isResponsiveImageSlide(slide) {\n  var _a;\n  return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n};\nexport var ResponsiveImage = function ResponsiveImage(props) {\n  var _a, _b;\n  var _React$useState = React.useState({}),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    state = _React$useState2[0],\n    setState = _React$useState2[1];\n  var current = state.current,\n    preload = state.preload;\n  var image = props.slide,\n    rect = props.rect,\n    imageFit = props.imageFit,\n    render = props.render;\n  var srcSet = image.srcSet.sort(function (a, b) {\n    return a.width - b.width;\n  });\n  var width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n  var height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n  var cover = image.imageFit === IMAGE_FIT_COVER || image.imageFit !== IMAGE_FIT_CONTAIN && imageFit === IMAGE_FIT_COVER;\n  var maxWidth = Math.max.apply(Math, _toConsumableArray(srcSet.map(function (x) {\n    return x.width;\n  })));\n  var targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n  var pixelDensity = devicePixelRatio();\n  var handleSourceChange = useEventCallback(function () {\n    var _a;\n    var targetSource = (_a = srcSet.find(function (x) {\n      return x.width >= targetWidth * pixelDensity;\n    })) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n    if (!current) {\n      setState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          current: targetSource.src\n        });\n      });\n    } else if (srcSet.findIndex(function (x) {\n      return x.src === current;\n    }) < srcSet.findIndex(function (x) {\n      return x === targetSource;\n    })) {\n      setState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          preload: targetSource.src\n        });\n      });\n    }\n  });\n  useLayoutEffect(handleSourceChange, [rect === null || rect === void 0 ? void 0 : rect.width, rect === null || rect === void 0 ? void 0 : rect.height, pixelDensity, handleSourceChange]);\n  var handlePreload = useEventCallback(function (currentPreload) {\n    if (currentPreload === preload) {\n      setState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          current: preload,\n          preload: undefined\n        });\n      });\n    }\n  });\n  var style = _objectSpread({\n    WebkitTransform: \"translateZ(0)\"\n  }, rect.width / rect.height < width / height ? {\n    width: \"100%\",\n    height: \"auto\"\n  } : {\n    width: \"auto\",\n    height: \"100%\"\n  });\n  return React.createElement(React.Fragment, null, preload && preload !== current && React.createElement(ImageSlide, _objectSpread(_objectSpread({\n    key: \"preload\"\n  }, props), {}, {\n    slide: _objectSpread(_objectSpread({}, image), {}, {\n      src: preload,\n      srcSet: undefined\n    }),\n    style: _objectSpread({\n      position: \"absolute\",\n      visibility: \"hidden\"\n    }, style),\n    onLoad: function onLoad() {\n      return handlePreload(preload);\n    },\n    render: _objectSpread(_objectSpread({}, render), {}, {\n      iconLoading: function iconLoading() {\n        return null;\n      },\n      iconError: function iconError() {\n        return null;\n      }\n    })\n  })), current && React.createElement(ImageSlide, _objectSpread(_objectSpread({\n    key: \"current\"\n  }, props), {}, {\n    slide: _objectSpread(_objectSpread({}, image), {}, {\n      src: current,\n      srcSet: undefined\n    }),\n    style: style\n  })));\n};","map":{"version":3,"names":["React","devicePixelRatio","IMAGE_FIT_CONTAIN","IMAGE_FIT_COVER","ImageSlide","useEventCallback","useLayoutEffect","isResponsiveImageSlide","slide","_a","srcSet","length","ResponsiveImage","props","_b","useState","state","setState","current","preload","image","rect","imageFit","render","sort","a","b","width","height","cover","maxWidth","Math","max","map","x","targetWidth","min","pixelDensity","handleSourceChange","targetSource","find","prev","src","findIndex","handlePreload","currentPreload","undefined","style","WebkitTransform","createElement","Fragment","key","position","visibility","onLoad","iconLoading","iconError"],"sources":["C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/yet-another-react-lightbox/dist/plugins/zoom/ResponsiveImage.js"],"sourcesContent":["import * as React from \"react\";\nimport { devicePixelRatio, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, ImageSlide, useEventCallback, useLayoutEffect, } from \"../../core/index.js\";\nexport const isResponsiveImageSlide = (slide) => { var _a; return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0; };\nexport const ResponsiveImage = (props) => {\n    var _a, _b;\n    const [state, setState] = React.useState({});\n    const { current, preload } = state;\n    const { slide: image, rect, imageFit, render } = props;\n    const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n    const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n    const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n    const cover = image.imageFit === IMAGE_FIT_COVER || (image.imageFit !== IMAGE_FIT_CONTAIN && imageFit === IMAGE_FIT_COVER);\n    const maxWidth = Math.max(...srcSet.map((x) => x.width));\n    const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n    const pixelDensity = devicePixelRatio();\n    const handleSourceChange = useEventCallback(() => {\n        var _a;\n        const targetSource = (_a = srcSet.find((x) => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n        if (!current) {\n            setState((prev) => ({ ...prev, current: targetSource.src }));\n        }\n        else if (srcSet.findIndex((x) => x.src === current) < srcSet.findIndex((x) => x === targetSource)) {\n            setState((prev) => ({ ...prev, preload: targetSource.src }));\n        }\n    });\n    useLayoutEffect(handleSourceChange, [rect === null || rect === void 0 ? void 0 : rect.width, rect === null || rect === void 0 ? void 0 : rect.height, pixelDensity, handleSourceChange]);\n    const handlePreload = useEventCallback((currentPreload) => {\n        if (currentPreload === preload) {\n            setState((prev) => ({ ...prev, current: preload, preload: undefined }));\n        }\n    });\n    const style = {\n        WebkitTransform: \"translateZ(0)\",\n        ...(rect.width / rect.height < width / height\n            ? {\n                width: \"100%\",\n                height: \"auto\",\n            }\n            : { width: \"auto\", height: \"100%\" }),\n    };\n    return (React.createElement(React.Fragment, null,\n        preload && preload !== current && (React.createElement(ImageSlide, { key: \"preload\", ...props, slide: { ...image, src: preload, srcSet: undefined }, style: { position: \"absolute\", visibility: \"hidden\", ...style }, onLoad: () => handlePreload(preload), render: {\n                ...render,\n                iconLoading: () => null,\n                iconError: () => null,\n            } })),\n        current && (React.createElement(ImageSlide, { key: \"current\", ...props, slide: { ...image, src: current, srcSet: undefined }, style: style }))));\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}