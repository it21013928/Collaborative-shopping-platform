{"ast":null,"code":"import _regeneratorRuntime from \"C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from \"axios\";\nimport setAuthToken from \"../utils/setAuthToken\";\nexport var myAccount = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(token) {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            axios.get(\"/api/users/me\", setAuthToken(token)).then(function (response) {\n              return response.data;\n            }).catch(function (error) {\n              console.error(error);\n              if (error.response.status === 401) {\n                localStorage.removeItem(\"token\"); // delete token from local storage\n                return null;\n              }\n            });\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function myAccount(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["axios","setAuthToken","myAccount","token","get","then","response","data","catch","error","console","status","localStorage","removeItem"],"sources":["C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/src/api/user.js"],"sourcesContent":["import axios from \"axios\";\r\nimport setAuthToken from \"../utils/setAuthToken\";\r\n\r\nexport const myAccount = async (token) => {\r\n  axios\r\n    .get(\"/api/users/me\", setAuthToken(token))\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((error) => {\r\n      console.error(error);\r\n      if (error.response.status === 401) {\r\n        localStorage.removeItem(\"token\"); // delete token from local storage\r\n        return null;\r\n      }\r\n    });\r\n};\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY,MAAM,uBAAuB;AAEhD,OAAO,IAAMC,SAAS;EAAA,sEAAG,iBAAOC,KAAK;IAAA;MAAA;QAAA;UAAA;YACnCH,KAAK,CACFI,GAAG,CAAC,eAAe,EAAEH,YAAY,CAACE,KAAK,CAAC,CAAC,CACzCE,IAAI,CAAC,UAACC,QAAQ,EAAK;cAClB,OAAOA,QAAQ,CAACC,IAAI;YACtB,CAAC,CAAC,CACDC,KAAK,CAAC,UAACC,KAAK,EAAK;cAChBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;cACpB,IAAIA,KAAK,CAACH,QAAQ,CAACK,MAAM,KAAK,GAAG,EAAE;gBACjCC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;gBAClC,OAAO,IAAI;cACb;YACF,CAAC,CAAC;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACN;EAAA,gBAbYX,SAAS;IAAA;EAAA;AAAA,GAarB"},"metadata":{},"sourceType":"module"}