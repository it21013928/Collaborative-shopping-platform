{"ast":null,"code":"import _objectSpread from \"C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\AAA Kithmina\\\\Education\\\\SLIIT\\\\Year 3\\\\Y3S1\\\\Disributed Systems - SE3020\\\\Assignments\\\\01\\\\Project\\\\Collaborative-shopping-platform\\\\frontend\\\\src\\\\dashboard\\\\views\\\\material-kit\\\\auto-complete\\\\AsyncAutocomplete.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, Fragment } from 'react';\nimport { Autocomplete, CircularProgress, styled, TextField } from '@mui/material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar AutoComplete = styled(Autocomplete)(function () {\n  return {\n    width: 300\n  };\n});\n_c = AutoComplete;\nfunction sleep() {\n  var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, delay);\n  });\n}\nexport default function AsyncAutocomplete() {\n  _s();\n  var _this = this;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    open = _useState2[0],\n    setOpen = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    options = _useState4[0],\n    setOptions = _useState4[1];\n  var loading = open && options.length === 0;\n  useEffect(function () {\n    var active = true;\n    if (!loading) return;\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var response, countries;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get('https://country.register.gov.uk/records.json?page-size=5000');\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return sleep(3000);\n            case 5:\n              _context.next = 7;\n              return response.json();\n            case 7:\n              countries = _context.sent;\n              if (active) {\n                setOptions(Object.keys(countries).map(function (key) {\n                  return countries[key].item[0];\n                }));\n              }\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n    return function () {\n      active = false;\n    };\n  }, [loading]);\n  useEffect(function () {\n    if (!open) setOptions([]);\n  }, [open]);\n  return /*#__PURE__*/_jsxDEV(AutoComplete, {\n    open: open,\n    options: options,\n    loading: loading,\n    id: \"asynchronous-demo\",\n    onOpen: function onOpen() {\n      return setOpen(true);\n    },\n    onClose: function onClose() {\n      return setOpen(false);\n    },\n    getOptionLabel: function getOptionLabel(option) {\n      return option.name;\n    },\n    renderInput: function renderInput(params) {\n      return /*#__PURE__*/_jsxDEV(TextField, _objectSpread(_objectSpread({}, params), {}, {\n        fullWidth: true,\n        variant: \"outlined\",\n        label: \"Asynchronous\",\n        InputProps: _objectSpread(_objectSpread({}, params.InputProps), {}, {\n          endAdornment: /*#__PURE__*/_jsxDEV(Fragment, {\n            children: [loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              color: \"inherit\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 28\n            }, _this) : null, params.InputProps.endAdornment]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, _this)\n        })\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, _this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(AsyncAutocomplete, \"NAnsH/wQUpBOztFs1nPXEavBw+I=\");\n_c2 = AsyncAutocomplete;\nvar _c, _c2;\n$RefreshReg$(_c, \"AutoComplete\");\n$RefreshReg$(_c2, \"AsyncAutocomplete\");","map":{"version":3,"names":["useState","useEffect","Fragment","Autocomplete","CircularProgress","styled","TextField","axios","AutoComplete","width","sleep","delay","Promise","resolve","setTimeout","AsyncAutocomplete","open","setOpen","options","setOptions","loading","length","active","get","response","json","countries","Object","keys","map","key","item","option","name","params","InputProps","endAdornment"],"sources":["C:/AAA Kithmina/Education/SLIIT/Year 3/Y3S1/Disributed Systems - SE3020/Assignments/01/Project/Collaborative-shopping-platform/frontend/src/dashboard/views/material-kit/auto-complete/AsyncAutocomplete.jsx"],"sourcesContent":["import { useState, useEffect, Fragment } from 'react';\r\nimport { Autocomplete, CircularProgress, styled, TextField } from '@mui/material';\r\nimport axios from 'axios';\r\n\r\nconst AutoComplete = styled(Autocomplete)(() => ({ width: 300 }));\r\n\r\nfunction sleep(delay = 0) {\r\n  return new Promise((resolve) => setTimeout(resolve, delay));\r\n}\r\n\r\nexport default function AsyncAutocomplete() {\r\n  const [open, setOpen] = useState(false);\r\n  const [options, setOptions] = useState([]);\r\n  const loading = open && options.length === 0;\r\n\r\n  useEffect(() => {\r\n    let active = true;\r\n\r\n    if (!loading) return;\r\n\r\n    (async () => {\r\n      // *https://www.registers.service.gov.uk/registers/country/use-the-api*\r\n      const response = await axios.get(\r\n        'https://country.register.gov.uk/records.json?page-size=5000'\r\n      );\r\n      await sleep(3000); // For demo purposes.\r\n      const countries = await response.json();\r\n\r\n      if (active) {\r\n        setOptions(Object.keys(countries).map((key) => countries[key].item[0]));\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      active = false;\r\n    };\r\n  }, [loading]);\r\n\r\n  useEffect(() => {\r\n    if (!open) setOptions([]);\r\n  }, [open]);\r\n\r\n  return (\r\n    <AutoComplete\r\n      open={open}\r\n      options={options}\r\n      loading={loading}\r\n      id=\"asynchronous-demo\"\r\n      onOpen={() => setOpen(true)}\r\n      onClose={() => setOpen(false)}\r\n      getOptionLabel={(option) => option.name}\r\n      renderInput={(params) => (\r\n        <TextField\r\n          {...params}\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          label=\"Asynchronous\"\r\n          InputProps={{\r\n            ...params.InputProps,\r\n            endAdornment: (\r\n              <Fragment>\r\n                {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\r\n                {params.InputProps.endAdornment}\r\n              </Fragment>\r\n            )\r\n          }}\r\n        />\r\n      )}\r\n    />\r\n  );\r\n}\r\n"],"mappings":";;;;;;AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACrD,SAASC,YAAY,EAAEC,gBAAgB,EAAEC,MAAM,EAAEC,SAAS,QAAQ,eAAe;AACjF,OAAOC,KAAK,MAAM,OAAO;AAAC;AAE1B,IAAMC,YAAY,GAAGH,MAAM,CAACF,YAAY,CAAC,CAAC;EAAA,OAAO;IAAEM,KAAK,EAAE;EAAI,CAAC;AAAA,CAAC,CAAC;AAAC,KAA5DD,YAAY;AAElB,SAASE,KAAK,GAAY;EAAA,IAAXC,KAAK,uEAAG,CAAC;EACtB,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO;IAAA,OAAKC,UAAU,CAACD,OAAO,EAAEF,KAAK,CAAC;EAAA,EAAC;AAC7D;AAEA,eAAe,SAASI,iBAAiB,GAAG;EAAA;EAAA;EAC1C,gBAAwBf,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAhCgB,IAAI;IAAEC,OAAO;EACpB,iBAA8BjB,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAnCkB,OAAO;IAAEC,UAAU;EAC1B,IAAMC,OAAO,GAAGJ,IAAI,IAAIE,OAAO,CAACG,MAAM,KAAK,CAAC;EAE5CpB,SAAS,CAAC,YAAM;IACd,IAAIqB,MAAM,GAAG,IAAI;IAEjB,IAAI,CAACF,OAAO,EAAE;IAEd,2DAAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OAEwBb,KAAK,CAACgB,GAAG,CAC9B,6DAA6D,CAC9D;YAAA;cAFKC,QAAQ;cAAA;cAAA,OAGRd,KAAK,CAAC,IAAI,CAAC;YAAA;cAAA;cAAA,OACOc,QAAQ,CAACC,IAAI,EAAE;YAAA;cAAjCC,SAAS;cAEf,IAAIJ,MAAM,EAAE;gBACVH,UAAU,CAACQ,MAAM,CAACC,IAAI,CAACF,SAAS,CAAC,CAACG,GAAG,CAAC,UAACC,GAAG;kBAAA,OAAKJ,SAAS,CAACI,GAAG,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;gBAAA,EAAC,CAAC;cACzE;YAAC;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CACF,IAAG;IAEJ,OAAO,YAAM;MACXT,MAAM,GAAG,KAAK;IAChB,CAAC;EACH,CAAC,EAAE,CAACF,OAAO,CAAC,CAAC;EAEbnB,SAAS,CAAC,YAAM;IACd,IAAI,CAACe,IAAI,EAAEG,UAAU,CAAC,EAAE,CAAC;EAC3B,CAAC,EAAE,CAACH,IAAI,CAAC,CAAC;EAEV,oBACE,QAAC,YAAY;IACX,IAAI,EAAEA,IAAK;IACX,OAAO,EAAEE,OAAQ;IACjB,OAAO,EAAEE,OAAQ;IACjB,EAAE,EAAC,mBAAmB;IACtB,MAAM,EAAE;MAAA,OAAMH,OAAO,CAAC,IAAI,CAAC;IAAA,CAAC;IAC5B,OAAO,EAAE;MAAA,OAAMA,OAAO,CAAC,KAAK,CAAC;IAAA,CAAC;IAC9B,cAAc,EAAE,wBAACe,MAAM;MAAA,OAAKA,MAAM,CAACC,IAAI;IAAA,CAAC;IACxC,WAAW,EAAE,qBAACC,MAAM;MAAA,oBAClB,QAAC,SAAS,kCACJA,MAAM;QACV,SAAS;QACT,OAAO,EAAC,UAAU;QAClB,KAAK,EAAC,cAAc;QACpB,UAAU,kCACLA,MAAM,CAACC,UAAU;UACpBC,YAAY,eACV,QAAC,QAAQ;YAAA,WACNhB,OAAO,gBAAG,QAAC,gBAAgB;cAAC,KAAK,EAAC,SAAS;cAAC,IAAI,EAAE;YAAG;cAAA;cAAA;cAAA;YAAA,SAAG,GAAG,IAAI,EAC/Dc,MAAM,CAACC,UAAU,CAACC,YAAY;UAAA;YAAA;YAAA;YAAA;UAAA;QAElC;MACD;QAAA;QAAA;QAAA;MAAA,SACF;IAAA;EACF;IAAA;IAAA;IAAA;EAAA,QACF;AAEN;AAAC,GA5DuBrB,iBAAiB;AAAA,MAAjBA,iBAAiB;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module"}